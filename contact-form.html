
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário de Contato - CRM Minimalista</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="logo">CRM Minimalista</h1>
            <nav class="nav">
                <a href="index.html" class="nav-link">Dashboard</a>
                <a href="contacts.html" class="nav-link active">Contatos</a>
                <a href="tasks.html" class="nav-link">Tarefas</a>
                <a href="pipeline.html" class="nav-link">Pipeline</a>
            </nav>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <div class="flex-between mb-2">
                <h2 id="formTitle">Novo Contato</h2>
                <a href="contacts.html" class="btn btn-secondary">Cancelar</a>
            </div>

            <form id="contactForm" class="form">
                <div class="form-group">
                    <label class="form-label">Nome *</label>
                    <input type="text" name="name" class="form-input" placeholder="Nome completo" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Email *</label>
                    <input type="email" name="email" class="form-input" placeholder="email@exemplo.com" required>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label class="form-label">Telefone</label>
                        <input type="tel" name="phone" class="form-input" placeholder="(11) 99999-9999">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Cidade</label>
                        <input type="text" name="city" class="form-input" placeholder="Cidade">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Dia de Pagamento</label>
                        <select name="paymentDay" class="form-select">
                            <option value="">Selecionar dia</option>
                            <option value="1">Dia 1</option>
                            <option value="2">Dia 2</option>
                            <option value="3">Dia 3</option>
                            <option value="4">Dia 4</option>
                            <option value="5">Dia 5</option>
                            <option value="6">Dia 6</option>
                            <option value="7">Dia 7</option>
                            <option value="8">Dia 8</option>
                            <option value="9">Dia 9</option>
                            <option value="10">Dia 10</option>
                            <option value="11">Dia 11</option>
                            <option value="12">Dia 12</option>
                            <option value="13">Dia 13</option>
                            <option value="14">Dia 14</option>
                            <option value="15">Dia 15</option>
                            <option value="16">Dia 16</option>
                            <option value="17">Dia 17</option>
                            <option value="18">Dia 18</option>
                            <option value="19">Dia 19</option>
                            <option value="20">Dia 20</option>
                            <option value="21">Dia 21</option>
                            <option value="22">Dia 22</option>
                            <option value="23">Dia 23</option>
                            <option value="24">Dia 24</option>
                            <option value="25">Dia 25</option>
                            <option value="26">Dia 26</option>
                            <option value="27">Dia 27</option>
                            <option value="28">Dia 28</option>
                            <option value="29">Dia 29</option>
                            <option value="30">Dia 30</option>
                            <option value="31">Dia 31</option>
                        </select>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label class="form-label">Empresa</label>
                        <input type="text" name="company" class="form-input" placeholder="Nome da empresa">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Cargo</label>
                        <input type="text" name="position" class="form-input" placeholder="Cargo/Função">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Plano</label>
                    <select name="plan" class="form-select">
                        <option value="">Selecionar plano</option>
                        <option value="Cortesia">Cortesia</option>
                        <option value="Básico">Básico</option>
                        <option value="Plus">Plus</option>
                        <option value="Max">Max</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Observações</label>
                    <textarea name="notes" class="form-textarea" placeholder="Informações adicionais sobre o contato..."></textarea>
                </div>

                <div class="form-group" id="pipelineSection" style="border: 2px dashed var(--border); padding: 1rem; border-radius: var(--radius); background: rgba(99, 102, 241, 0.05);">
                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
                        <input type="checkbox" id="sendToPipeline" name="sendToPipeline" style="transform: scale(1.2);">
                        <label for="sendToPipeline" class="form-label" style="margin: 0; font-weight: 600; color: var(--primary);">
                            Enviar para Pipeline de Vendas
                        </label>
                    </div>
                    
                    <div id="pipelineStageGroup" style="display: none;">
                        <label class="form-label">Estágio Inicial</label>
                        <select name="pipelineStage" class="form-select">
                            <option value="Lead">Lead</option>
                            <option value="Qualificação">Qualificação</option>
                            <option value="Proposta">Proposta</option>
                            <option value="Negociação">Negociação</option>
                            <option value="Ganho/Cliente">Ganho/Cliente</option>
                            <option value="Perdido">Perdido</option>
                        </select>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" onclick="saveContact()" class="btn btn-success">Salvar Contato</button>
                    <a href="contacts.html" class="btn btn-secondary">Cancelar</a>
                </div>
            </form>
        </div>
    </main>

    <script src="js/dataService.js"></script>
    <script src="js/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            loadContactForm();
            
            // Toggle pipeline stage selection
            const sendToPipelineCheckbox = document.getElementById('sendToPipeline');
            const pipelineStageGroup = document.getElementById('pipelineStageGroup');
            
            sendToPipelineCheckbox.addEventListener('change', function() {
                pipelineStageGroup.style.display = this.checked ? 'block' : 'none';
            });
        });
    </script>
</body>
</html>
